@inherits MainLayoutBase

<MudThemeProvider />
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />

@if (_appState.UserInformation != null) {
    @if(String.IsNullOrEmpty(_appState.UserInformation.UserName))
    {
        //Render
        <div class="height100vh w-100 d-flex align-content-center justify-content-center">
            <UserInformationComponent OnProceed="(e)=> OnProceed(e)" AppState="_appState"></UserInformationComponent>
        </div>
    } else {

        <div class="page height100vh">
            @*         <div class="sidebar">^
                <NavMenu />
            </div>
*@
            <main>
                <div class="top-row px-4 d-flex gap-2">
                    <MudText Typo="Typo.h6">Time tracking</MudText>
                    <MudSpacer/>
                    <span>Welcome , @_appState.UserInformation.UserName</span>
                    <MudButton OnClick="NewUser" Class="text-right border-25" StartIcon="@Icons.Material.Filled.Person" Variant="Variant.Filled" Color="Color.Primary" Size="Size.Small">New User</MudButton>
                </div>

                <article class="content px-4">
                    @Body
                </article>
            </main>
        </div>
    }
} else
{
    <div class="center-flex height100vh">
        <MudProgressCircular Size="Size.Small" Indeterminate></MudProgressCircular>
    </div>
}